<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; }
        #root { width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <div id="root">
        <div style="display: flex; align-items: center; justify-content: center; height: 100vh; font-family: monospace; background: black; color: #00ff00;">
            <div>Loading Mission Control...</div>
        </div>
    </div>
    
    <script type="text/babel" data-type="module">
        // Simple icons as React components
        const Play = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'currentColor' 
        }, React.createElement('polygon', { points: '5,3 19,12 5,21' }));

        const Pause = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'currentColor' 
        }, 
            React.createElement('rect', { x: 6, y: 4, width: 4, height: 16 }),
            React.createElement('rect', { x: 14, y: 4, width: 4, height: 16 })
        );

        const RotateCcw = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, 
            React.createElement('path', { d: 'M1 4v6h6' }),
            React.createElement('path', { d: 'M3.51 15a9 9 0 1 0 2.13-9.36L1 10' })
        );

        const Plus = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, React.createElement('path', { d: 'M12 5v14M5 12h14' }));

        const X = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, React.createElement('path', { d: 'M18 6 6 18M6 6l12 12' }));

        const ChevronDown = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, React.createElement('path', { d: 'M6 9l6 6 6-6' }));

        const ChevronRight = ({ size = 14 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, React.createElement('path', { d: 'M9 18l6-6-6-6' }));

        const Moon = ({ size = 16 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, React.createElement('path', { d: 'M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z' }));

        const Sun = ({ size = 16 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, 
            React.createElement('circle', { cx: 12, cy: 12, r: 5 }),
            React.createElement('path', { d: 'M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42' })
        );

        const Zap = ({ size = 18 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, React.createElement('polygon', { points: '13,2 3,14 12,14 11,22 21,10 12,10' }));

        const Target = ({ size = 18 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, 
            React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
            React.createElement('circle', { cx: 12, cy: 12, r: 6 }),
            React.createElement('circle', { cx: 12, cy: 12, r: 2 })
        );

        const Clock = ({ size = 12 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, 
            React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
            React.createElement('polyline', { points: '12,6 12,12 16,14' })
        );

        const Users = ({ size = 18 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, 
            React.createElement('path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2' }),
            React.createElement('circle', { cx: 9, cy: 7, r: 4 }),
            React.createElement('path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75' })
        );

        const Printer = ({ size = 20 }) => React.createElement('svg', { 
            width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 
        }, 
            React.createElement('polyline', { points: '6,9 6,2 18,2 18,9' }),
            React.createElement('path', { d: 'M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2' }),
            React.createElement('rect', { x: 6, y: 14, width: 12, height: 8 })
        );

        // Main Dashboard Component
        const ProductivityDashboard = () => {
            // State management
            const [tasks, setTasks] = React.useState([]);
            const [projects, setProjects] = React.useState([]);
            const [roles, setRoles] = React.useState(['Personal', 'Professional', 'Family', 'Health']);
            const [currentQuote, setCurrentQuote] = React.useState('');
            const [darkMode, setDarkMode] = React.useState(true);
            const [timerState, setTimerState] = React.useState({
                minutes: 25,
                seconds: 0,
                isRunning: false,
                isBreak: false,
                sessions: 0
            });
            const [newTask, setNewTask] = React.useState('');
            const [newProject, setNewProject] = React.useState('');
            const [selectedRole, setSelectedRole] = React.useState('Personal');
            const [selectedProject, setSelectedProject] = React.useState('');
            const [expandedProjects, setExpandedProjects] = React.useState(new Set());

            const timerRef = React.useRef(null);

            // Quotes database
            const quotes = {
                bible: [
                    "I can do all things through Christ who strengthens me. - Philippians 4:13",
                    "For I know the plans I have for you, declares the Lord. - Jeremiah 29:11",
                    "Trust in the Lord with all your heart. - Proverbs 3:5",
                    "Be strong and courageous. Do not be afraid. - Joshua 1:9"
                ],
                scientists: [
                    "The important thing is not to stop questioning. - Albert Einstein",
                    "Science is a way of thinking much more than it is a body of knowledge. - Carl Sagan",
                    "In the middle of difficulty lies opportunity. - Albert Einstein"
                ],
                founders: [
                    "Well done is better than well said. - Benjamin Franklin",
                    "Energy and persistence conquer all things. - Benjamin Franklin"
                ]
            };

            // Initialize data from localStorage
            React.useEffect(() => {
                try {
                    const savedTasks = localStorage.getItem('fcTasks');
                    const savedProjects = localStorage.getItem('fcProjects');
                    const savedRoles = localStorage.getItem('fcRoles');
                    const savedDarkMode = localStorage.getItem('fcDarkMode');
                    
                    if (savedTasks) setTasks(JSON.parse(savedTasks));
                    if (savedProjects) setProjects(JSON.parse(savedProjects));
                    if (savedRoles) setRoles(JSON.parse(savedRoles));
                    if (savedDarkMode !== null) setDarkMode(JSON.parse(savedDarkMode));
                    
                    generateRandomQuote();
                } catch (error) {
                    console.error('Error loading saved data:', error);
                    generateRandomQuote();
                }
            }, []);

            // Save to localStorage whenever data changes
            React.useEffect(() => {
                try {
                    localStorage.setItem('fcTasks', JSON.stringify(tasks));
                } catch (error) {
                    console.error('Error saving tasks:', error);
                }
            }, [tasks]);

            React.useEffect(() => {
                try {
                    localStorage.setItem('fcProjects', JSON.stringify(projects));
                } catch (error) {
                    console.error('Error saving projects:', error);
                }
            }, [projects]);

            React.useEffect(() => {
                try {
                    localStorage.setItem('fcDarkMode', JSON.stringify(darkMode));
                } catch (error) {
                    console.error('Error saving theme:', error);
                }
            }, [darkMode]);

            // Timer effect
            React.useEffect(() => {
                if (timerState.isRunning) {
                    timerRef.current = setInterval(() => {
                        setTimerState(prev => {
                            if (prev.seconds > 0) {
                                return { ...prev, seconds: prev.seconds - 1 };
                            } else if (prev.minutes > 0) {
                                return { ...prev, minutes: prev.minutes - 1, seconds: 59 };
                            } else {
                                const newSessions = prev.sessions + 1;
                                const isBreak = !prev.isBreak;
                                const minutes = isBreak ? (newSessions % 4 === 0 ? 15 : 5) : 25;
                                return {
                                    minutes,
                                    seconds: 0,
                                    isRunning: false,
                                    isBreak,
                                    sessions: newSessions
                                };
                            }
                        });
                    }, 1000);
                } else {
                    clearInterval(timerRef.current);
                }
                return () => clearInterval(timerRef.current);
            }, [timerState.isRunning]);

            const generateRandomQuote = () => {
                const categories = Object.keys(quotes);
                const randomCategory = categories[Math.floor(Math.random() * categories.length)];
                const categoryQuotes = quotes[randomCategory];
                const randomQuote = categoryQuotes[Math.floor(Math.random() * categoryQuotes.length)];
                setCurrentQuote(randomQuote);
            };

            const toggleDarkMode = () => setDarkMode(!darkMode);

            const addTask = () => {
                if (newTask.trim()) {
                    const task = {
                        id: Date.now(),
                        text: newTask.trim(),
                        role: selectedRole,
                        projectId: selectedProject || null,
                        priority: 'important-urgent',
                        completed: false,
                        createdAt: new Date().toISOString().split('T')[0]
                    };
                    setTasks([...tasks, task]);
                    setNewTask('');
                }
            };

            const addProject = () => {
                if (newProject.trim()) {
                    const project = {
                        id: Date.now(),
                        name: newProject.trim(),
                        role: selectedRole,
                        tasks: [],
                        completed: false,
                        createdAt: new Date().toISOString().split('T')[0]
                    };
                    setProjects([...projects, project]);
                    setNewProject('');
                }
            };

            const deleteProject = (projectId) => {
                if (confirm('Delete this project? Tasks will become unassigned.')) {
                    setProjects(projects.filter(p => p.id !== projectId));
                    setTasks(tasks.map(t => t.projectId === projectId ? {...t, projectId: null} : t));
                    setExpandedProjects(new Set());
                }
            };

            const toggleTask = (taskId) => {
                setTasks(tasks.map(task => 
                    task.id === taskId ? { ...task, completed: !task.completed } : task
                ));
            };

            const deleteTask = (taskId) => {
                setTasks(tasks.filter(task => task.id !== taskId));
            };

            const toggleTimer = () => setTimerState(prev => ({ ...prev, isRunning: !prev.isRunning }));

            const resetTimer = () => setTimerState({
                minutes: 25, seconds: 0, isRunning: false, isBreak: false, sessions: 0
            });

            const formatTime = (minutes, seconds) => 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            const printDailyReport = () => {
                alert('Print functionality available! Opening print dialog...');
                window.print();
            };

            // Theme classes
            const bgClass = darkMode ? 'bg-black' : 'bg-gradient-to-br from-gray-100 to-white';
            const cardClass = darkMode 
                ? 'bg-gray-900 text-green-400 border border-green-500/30 shadow-lg' 
                : 'bg-white text-gray-800 border border-gray-300 shadow-lg';
            const inputClass = darkMode 
                ? 'bg-gray-800 border-green-500/50 text-green-400 placeholder-green-600/60' 
                : 'bg-white border-gray-400 text-gray-800 placeholder-gray-500';
            const textClass = darkMode ? 'text-green-300' : 'text-gray-600';

            return React.createElement('div', { className: `min-h-screen ${bgClass} p-4 font-sans` }, [
                // Matrix effect
                darkMode && React.createElement('div', { 
                    key: 'matrix',
                    className: 'fixed inset-0 overflow-hidden pointer-events-none opacity-20' 
                }, [
                    React.createElement('div', { key: 'dot1', className: 'absolute top-1/4 left-1/4 w-1 h-1 bg-green-400 rounded-full animate-pulse' }),
                    React.createElement('div', { key: 'dot2', className: 'absolute top-1/3 right-1/3 w-1 h-1 bg-green-400 rounded-full animate-pulse' }),
                    React.createElement('div', { key: 'code1', className: 'absolute top-1/2 left-1/3 text-green-500/20 font-mono text-xs' }, '01001'),
                    React.createElement('div', { key: 'code2', className: 'absolute bottom-1/3 right-1/2 text-green-500/20 font-mono text-xs' }, '11010')
                ]),

                // Main container
                React.createElement('div', { key: 'main', className: 'max-w-7xl mx-auto h-screen flex flex-col relative z-10' }, [
                    // Header
                    React.createElement('div', { 
                        key: 'header',
                        className: `${cardClass} rounded-lg p-4 mb-4 flex justify-between items-center border-2` 
                    }, [
                        React.createElement('div', { key: 'left', className: 'flex items-center gap-6' }, [
                            React.createElement('div', { key: 'title', className: 'flex items-center gap-3' }, [
                                React.createElement('div', { key: 'dot', className: 'w-3 h-3 bg-green-400 rounded-full animate-pulse' }),
                                React.createElement('h1', { key: 'h1', className: 'text-2xl font-bold font-mono tracking-wider' }, 'MISSION CONTROL'),
                                React.createElement('div', { key: 'version', className: 'text-xs font-mono text-green-400 bg-gray-800 px-2 py-1 rounded' }, 'v3.0.0')
                            ]),
                            React.createElement('div', { 
                                key: 'quote',
                                className: `${textClass} italic text-sm max-w-md truncate font-mono`,
                                title: currentQuote 
                            }, `> ${currentQuote}`),
                            React.createElement('button', {
                                key: 'refresh',
                                onClick: generateRandomQuote,
                                className: 'text-green-400 hover:text-green-300 text-sm px-3 py-1 rounded border border-green-500/50 hover:border-green-400 transition-all font-mono'
                            }, 'REFRESH')
                        ]),
                        React.createElement('div', { key: 'right', className: 'flex items-center gap-6' }, [
                            React.createElement('div', { key: 'timer', className: 'text-center' }, [
                                React.createElement('div', { 
                                    key: 'time',
                                    className: 'text-2xl font-bold font-mono tracking-wider text-green-400' 
                                }, formatTime(timerState.minutes, timerState.seconds)),
                                React.createElement('div', { 
                                    key: 'status',
                                    className: `text-xs font-mono ${textClass} flex items-center gap-2` 
                                }, [
                                    React.createElement(Clock, { key: 'clock', size: 12 }),
                                    `${timerState.isBreak ? 'REST' : 'FOCUS'} • SES ${timerState.sessions}`
                                ])
                            ]),
                            React.createElement('div', { key: 'buttons', className: 'flex gap-2' }, [
                                React.createElement('button', {
                                    key: 'timer-btn',
                                    onClick: toggleTimer,
                                    className: `flex items-center gap-2 px-4 py-2 rounded border-2 font-mono text-sm transition-all ${
                                        timerState.isRunning 
                                            ? 'bg-red-600/20 border-red-400 text-red-300 hover:bg-red-600/30' 
                                            : 'bg-green-600/20 border-green-400 text-green-300 hover:bg-green-600/30'
                                    }`
                                }, [
                                    React.createElement(timerState.isRunning ? Pause : Play, { key: 'icon', size: 14 }),
                                    timerState.isRunning ? 'PAUSE' : 'START'
                                ]),
                                React.createElement('button', {
                                    key: 'reset-btn',
                                    onClick: resetTimer,
                                    className: 'flex items-center gap-2 bg-gray-600/20 border-gray-400 text-gray-300 px-4 py-2 rounded border-2 hover:bg-gray-600/30 transition-all font-mono text-sm'
                                }, [
                                    React.createElement(RotateCcw, { key: 'icon', size: 14 }),
                                    'RESET'
                                ])
                            ])
                        ])
                    ]),

                    // Simple content for now
                    React.createElement('div', { 
                        key: 'content',
                        className: `${cardClass} rounded-lg p-8 flex-1 flex items-center justify-center border-2` 
                    }, React.createElement('div', { className: 'text-center' }, [
                        React.createElement('h2', { key: 'title', className: 'text-4xl font-bold font-mono mb-4' }, 'DASHBOARD ACTIVE'),
                        React.createElement('p', { key: 'subtitle', className: `${textClass} font-mono` }, 'Mission Control System Online'),
                        React.createElement('div', { key: 'stats', className: 'mt-8 grid grid-cols-3 gap-8' }, [
                            React.createElement('div', { key: 'tasks', className: 'text-center' }, [
                                React.createElement('div', { key: 'num', className: 'text-2xl font-bold text-green-400' }, tasks.length),
                                React.createElement('div', { key: 'label', className: `text-sm ${textClass}` }, 'TASKS')
                            ]),
                            React.createElement('div', { key: 'projects', className: 'text-center' }, [
                                React.createElement('div', { key: 'num', className: 'text-2xl font-bold text-green-400' }, projects.length),
                                React.createElement('div', { key: 'label', className: `text-sm ${textClass}` }, 'PROJECTS')
                            ]),
                            React.createElement('div', { key: 'sessions', className: 'text-center' }, [
                                React.createElement('div', { key: 'num', className: 'text-2xl font-bold text-green-400' }, timerState.sessions),
                                React.createElement('div', { key: 'label', className: `text-sm ${textClass}` }, 'SESSIONS')
                            ])
                        ])
                    ])),

                    // Floating buttons
                    React.createElement('div', { 
                        key: 'floating',
                        className: 'fixed bottom-6 right-6 flex flex-col gap-3 z-50' 
                    }, [
                        React.createElement('button', {
                            key: 'print',
                            onClick: printDailyReport,
                            className: 'w-14 h-14 rounded-full bg-blue-600/20 border-2 border-blue-400 text-blue-300 hover:bg-blue-600/40 transition-all shadow-lg backdrop-blur-sm flex items-center justify-center',
                            title: 'Print Daily Report'
                        }, React.createElement(Printer, { size: 20 })),
                        React.createElement('button', {
                            key: 'theme',
                            onClick: toggleDarkMode,
                            className: `w-14 h-14 rounded-full border-2 transition-all shadow-lg backdrop-blur-sm flex items-center justify-center ${
                                darkMode 
                                    ? 'bg-orange-600/20 border-orange-400 text-orange-300 hover:bg-orange-600/40' 
                                    : 'bg-gray-700/20 border-gray-400 text-gray-600 hover:bg-gray-700/40'
                            }`,
                            title: `Switch to ${darkMode ? 'Light' : 'Dark'} mode`
                        }, React.createElement(darkMode ? Sun : Moon, { size: 20 }))
                    ])
                ])
            ]);
        };

        // Render the app
        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(ProductivityDashboard));
            console.log('Mission Control Dashboard loaded successfully!');
        } catch (error) {
            console.error('Error rendering dashboard:', error);
            document.getElementById('root').innerHTML = `
                <div style="display: flex; align-items: center; justify-content: center; height: 100vh; font-family: monospace; background: black; color: #ff0000;">
                    <div>
                        <h2>Loading Error</h2>
                        <p>Check browser console for details</p>
                        <p>Error: ${error.message}</p>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
